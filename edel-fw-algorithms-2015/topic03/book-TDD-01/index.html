 <!DOCTYPE html>
 <html>
   <head>

     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">

     

     <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.css" type="text/css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/solarized-light.min.css" rel="stylesheet" />

     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/languages/java.min.js"></script>
     <script>hljs.initHighlightingOnLoad();</script>

     

     <style>
       

body 
{
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
}

figcaption
{
  margin-bottom: 20px;
}

.vertical-align
{
  display: flex;
  align-items: center;
}



     </style>

   </head>

  <body>
    

<style>
  

code
{
  font-family: "Monaco";
  font-size: 110%;
}

img
{
  padding:1px;
  border:1px solid black;
}

h1
{
  font-style:italic;
  font-size:130%;
  border-bottom:thin solid black;
}

h2
{
  font-size:110%;
  border-bottom: thin solid black;
}

h3
{
  font-size:100%;
  border-bottom: thin solid black;
}

body
{
  overflow-y: scroll;
}

.pushable > .pusher
{
  padding-bottom: 1.5rem;
}

.ui.segment.pushable
{
  margin: 0;
  padding: 1rem 0;
  overflow: visible;
}



</style>

<div class="ui fixed top pointing inverted menu labmenu">
  <header class="header item">
    <i id="toc" class="sitemap icon"></i>
    <a href="../index.html">
      TDD Part I
    </a>
  </header>
  <div class="right tab-menu menu">
    
    <a class="item" data-tab="TDD-01">
      TDD-01
    </a>
    
    <a class="item" data-tab="01">
      01
    </a>
    
    <a class="item" data-tab="02">
      02
    </a>
    
    <a class="item" data-tab="03">
      03
    </a>
    
    <a class="item" data-tab="04">
      04
    </a>
    
    <a class="item" data-tab="05">
      05
    </a>
    
    <a class="item" data-tab="06">
      06
    </a>
    
    <a class="item" data-tab="Exercises">
      Exercises
    </a>
    
    <a class="item" href="../../index.html">
      <i class="home icon"></i>
    </a>
  </div>
</div>

<div class="ui segment pushable">
  <div class="ui inverted labeled icon left inline vertical sidebar menu">
    
      
        <a class="item" href="../../topic01/book-1/index.html">
          Lab-01
        </a>
      
    
      
        <a class="item" href="../../topic01/book-2/index.html">
          Lab-02
        </a>
      
    
      
        <a class="item" href="../../topic01/book-3/index.html">
          Lab-03
        </a>
      
    
      
        <a class="item" href="../../topic02/book-1/index.html">
          Lab-04
        </a>
      
    
      
        <a class="item" href="../../topic02/book-2/index.html">
          Image_Processing_Lab
        </a>
      
    
      
        <a class="item" href="../../topic02/book-3/index.html">
          Assignment-1
        </a>
      
    
      
        <a class="active item" href="../../topic03/book-TDD-01/index.html">
          TDD-01
        </a>
      
    
      
        <a class="item" href="../../topic04/book-1/index.html">
          Lab-05
        </a>
      
    
      
        <a class="item" href="../../topic05/book-1/index.html">
          Lab-06
        </a>
      
    
      
        <a class="item" href="../../topic05/book-2/index.html">
          assignment-2
        </a>
      
    
      
        <a class="item" href="../../topic06/book-TDD-02/index.html">
          TDD-02
        </a>
      
    
      
        <a class="item" href="../../topic06/book-TDD-03/index.html">
          TDD-03
        </a>
      
    
      
        <a class="item" href="../../topic07/book-TDD-04/index.html">
          TDD-04
        </a>
      
    
      
        <a class="item" href="../../topic08/book-TDD-05/index.html">
          TDD-Lab-05
        </a>
      
    
      
        <a class="item" href="../../topic08/book-x-cmd-line/index.html">
          Command-Line
        </a>
      
    
      
        <a class="item" href="../../topic09/book-1/index.html">
          REPEAT-ASSIGNMENT
        </a>
      
    
  </div>
  <div class="pusher" tabindex="-1">
    <div class="ui basic segment">
      <br>
      
      <div  class="ui tab segment lab" data-tab="TDD-01">
        <h1>Objectives</h1>
<p>The objective of this lab set up a simple command line app to be used as a foundation for exploring TDD in subsequent labs</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="01">
        <h1>Pacemaker Version 1</h1>
<p>Create a new project - select &#39;File-&gt;New-&gt;Project&#39;  select &quot;Java Project&quot;. Fill out the &quot;New Java Project&quot; wizard as shown:</p>
<p><img src="img/51.png" alt=""></p>
<p>Press &quot;Finish&quot;.  In the new project, select &#39;src&#39;, right click and select &#39;new-&gt;package&#39;. Call the package &#39;models&#39; and press finish:</p>
<p>Selecting &quot;models&quot;, select &quot;File-&gt;New&quot; and select &quot;Class&quot;. Name the class &quot;User&quot;:</p>
<p><img src="img/53.png" alt=""></p>
<p>Edit the User.java source - and replace the current contents with the following</p>
<pre><code>package models;

public class User 
{
  public String firstName;
  public String lastName;
  public String email;
  public String password;

  public User()
  {
  }

  public User(String firstName, String lastName, String email, String password)
  {
    this.firstName = firstName;
    this.lastName = lastName;
    this.email = email;
    this.password = password;
  }
}</code></pre>
<p>In a new package called &#39;controllers&#39;, create a lass called &quot;Main&quot; (follow same steps used to create User class above). Replace the contents of Main.java with the following</p>
<pre><code>package controllers;

import java.util.ArrayList;
import java.util.List;

import models.User;

public class Main
{
  public static void main(String[] args)
  {
    List&lt;User&gt; users = new ArrayList&lt;User&gt;();
    users.add(new User(&quot;Bart&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    users.add(new User(&quot;Homer&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    users.add(new User(&quot;Lisa&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    System.out.println(users);
  }
}</code></pre>
<p>The workbench should now look as follows (ignore the &#39;labs&#39; node in package view for the moment):</p>
<p><img src="img/56.png" alt=""></p>
<p>Launch the application as follows. Do this by selecting &quot;Main.java&quot; in the Package Explorer and select &quot;Run-&gt;Run As-&gt;Java Application&quot;. This executes the application (running main) which in turn prints output to the console.</p>
<p><img src="img/57.png" alt=""></p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="02">
        <h1>Debugger</h1>
<p>Now explore the &quot;users&quot; data structure in the debugger: Editing the Main.java source file, double click inside the scroll bar on first line of the main method:</p>
<p><img src="img/58.png" alt=""></p>
<p>This creates a breakpoint (visually a small blue bubble). Run the program again: - this time under the debugger. Quickest way to do this is to press the &quot;Debug last launched&quot; button.</p>
<p>You may see the permissions dialog again:</p>
<p><img src="img/58a.png" alt=""></p>
<p>and also a switch perspective dialog:</p>
<p><img src="img/58b.png" alt=""></p>
<p>Finally, the workspace will be reconfigured as follows:</p>
<p><img src="img/59.png" alt=""></p>
<p>Selecting &#39;Run-&gt;Step Over&quot; from the eclipse menu several times will execute each line of the main method.</p>
<p><img src="img/60.png" alt=""></p>
<p>Note the editor view shows each line under execution. The Variables view shows the contacts data structure being populated.</p>
<p><img src="img/61.png" alt=""></p>
<p>Exploring the variable window should enable you to inspect each contact object as it is inserted. This variable window can also show a &quot;Logical View&quot; of the data structure (press the second button in the toolbar)</p>
<p><img src="img/62.png" alt=""></p>
<p>To terminate the application, press the button in the Console view:</p>
<p><img src="img/63.png" alt=""></p>
<p>... and the restore the Java &quot;Perspective&quot;:</p>
<p><img src="img/56.png" alt=""></p>
<p>If you are not familiar with debugging in eclipse, spend some time repeating the above steps. In particular, hover over the various tool bar buttons visible in the debug perspective to get an general understanding of how to control and explore a running application.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="03">
        <h2>Git Version Control</h2>
<p>Before moving on to the next step - we will commit this project to &#39;git&#39; version control.</p>
<p>First, right click on the project and select &#39;Team-&gt;Share Project&#39;</p>
<p><img src="img/x01.png" alt=""></p>
<p>In the next dialog select &#39;git&#39;</p>
<p><img src="img/x02.png" alt=""></p>
<p>and then you will see this:</p>
<p><img src="img/x03.png" alt=""></p>
<p>Tick the &#39;Use or create repository&#39;, and then press the &#39;Create Repository&#39; button:</p>
<p><img src="img/x04.png" alt=""></p>
<p>Noting particularly noticable will change -</p>
<p><img src="img/x05.png" alt=""></p>
<p>But you can now press finish.</p>
<p>You may notice that your ecipse project icons look a little different.</p>
<p><img src="img/x06.png" alt=""></p>
<p>Now, select the project again in Package Explorer, select &#39;Team&#39; - and this time the menu will be different:</p>
<p><img src="img/x08.png" alt=""></p>
<p>Select &#39;Commit&#39; - and enter details as shown here:</p>
<p><img src="img/x07.png" alt=""></p>
<p>Press &quot;Commit&quot; - and now the icons will change again:</p>
<p><img src="img/x09.png" alt=""></p>
<p>Although we haven&#39;t saved this to any external server, we have preserved the applications current structure.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="04">
        <h1>Logger</h1>
<p>Create a new package in the eclipse project, called &#39;utils&#39;</p>
<p><img src="img/x10.png" alt=""></p>
<p>Introduce the following class into that package:</p>
<pre><code>package utils;

import java.io.FileNotFoundException;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

public class FileLogger
{
  private static FileLogger logger;

  private FileLogger()
  {
  }

  public static FileLogger getLogger()
  {
    if (logger == null)
    {
      logger = new FileLogger();
    }
    return logger;
  }

  public boolean log(String msg)
  {
    try
    {
      PrintWriter writer = new PrintWriter(new FileWriter(&quot;log.txt&quot;, true));
      writer.println(msg);
      writer.close();
    }
    catch (FileNotFoundException ex)
    {
      return (false);
    }
    catch (IOException ex)
    {
      return (false);
    }
    return (true);
  }
}</code></pre>
<p>Project workspace should be structured as follows:</p>
<p><img src="img/x11.png" alt=""></p>
<p>Edit the Main.java, replacing the main method with the following:</p>
<pre><code>  public static void main(String[] args)
  {
    FileLogger logger = FileLogger.getLogger();
    logger.log(&quot;Creating user list&quot;);

    List&lt;User&gt; users = new ArrayList&lt;User&gt;();
    users.add(new User(&quot;Bart&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    users.add(new User(&quot;Homer&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    users.add(new User(&quot;Lisa&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    System.out.println(users);

    logger.log(&quot;Finished - shutting down&quot;);
  }</code></pre>
<p>Note that there will be one error - the FileLogger class is being used in the Main.without being imported. Selecting the error in the editor will pop-up some autocorrect suggestions:</p>
<p><img src="img/x12.png" alt=""></p>
<p>If you select the one shown then the appropriate import will be inserted into the class:</p>
<pre><code>import utils.FileLogger;</code></pre>
<p>Execute the program. Do this be selecting main.java in the package explorer, and selecting menu &quot;Run-&gt;Run As-&gt;Java Application&quot; as before.</p>
<p>The console should list data structure as before, and a log file &quot;log.txt&quot; should be generated. As the file is just generated, it will not be visible in the workspace. To view it, select the &#39;pacemaker-console&#39; project in the package explorer, and select &quot;File-&gt;Refresh&quot;. Package explorer will be updated to reflect the new file generated in the workspace:</p>
<p><img src="img/x13.png" alt=""></p>
<p>Double click log.txt to view the log:</p>
<p><img src="img/x14.png" alt=""></p>
<p>Before we finish this step, we can &#39;commit&#39; changes we have just made. In Package Explorer, select the project, right click and select &#39;Team-&gt;Commit&#39;.</p>
<p><img src="img/x15.png" alt=""></p>
<p>Fill out as shown above (not we do not commit the log file) - and press &#39;Commit&#39;</p>
<p>Notice the changes in the package explorer icons:</p>
<p><img src="img/x16.png" alt=""></p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="05">
        <h1>XStream</h1>
<p>Navigate to </p>
<ul>
<li><a href="http://x-stream.github.io/">http://x-stream.github.io/</a></li>
</ul>
<p>Select &#39;Download&#39; and, under &quot;Stable Version&#39; download the &#39;XStream Core only&#39;. This should be a single jar file called &#39;xstream-x.x.x.jar&#39;</p>
<p>In Eclipse Package Explorer, create a new folder &quot;lib&quot;. Do this be selecting the project, select &quot;File-&gt;New-&gt;Folder&quot;. In the offered dialog, enter &quot;lib&quot; as the file name. Drag the xstream.jar file already downloaded into the lib folder: Workspace should look like this</p>
<p><img src="img/x17.png" alt=""></p>
<p>Right click on xstream- and select &quot;Build Path-&gt;Add to Build Path&quot;. Workspace should now look like this:</p>
<p><img src="img/x17a.png" alt=""></p>
<p>Replace the main function (not the entire class Main) with this version here:</p>
<pre><code class="lang-java">  public static void main(String[] args) throws IOException
  {
    FileLogger logger = FileLogger.getLogger();
    logger.log(&quot;Creating user list&quot;);

    List&lt;User&gt; users = new ArrayList&lt;User&gt;();
    users.add(new User(&quot;Bart&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    users.add(new User(&quot;Homer&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    users.add(new User(&quot;Lisa&quot;, &quot;Simpson&quot;, &quot;bart@simpson.com&quot;, &quot;secret&quot;));
    System.out.println(users);

    logger.log(&quot;Serializing contacts to XML&quot;);
    XStream xstream = new XStream(new DomDriver());
    ObjectOutputStream out = xstream.createObjectOutputStream(new FileWriter(&quot;users.xml&quot;));
    out.writeObject(users);
    out.close();    

    logger.log(&quot;Finished - shutting down&quot;);
  }</code></pre>
<p>Use the autocorrect feature to correct the package import errors. If used appropriately, the following import statements should be added to the class:</p>
<pre><code class="lang-java">import java.io.FileWriter;
import java.io.IOException;
import java.io.ObjectOutputStream;
import java.util.ArrayList;
import java.util.List;

import com.thoughtworks.xstream.XStream;
import com.thoughtworks.xstream.io.xml.DomDriver;

import pim.log.FileLogger;</code></pre>
<p>Run the program (use steps as before). A file called &quot;users.xml&quot; will have been generated. Using the refresh step from before, make this file visible in package explorer, and open the file.</p>
<p>Two views should be visible. A &quot;Design&quot; view:</p>
<p><img src="img/x18.png" alt=""></p>
<p>and a &quot;Source&quot; view</p>
<p><img src="img/x19.png" alt=""></p>
<p>We have used a component (xstream) to convert an internal data structure into an XML stream, which we have written to a file.</p>
<p>See if you can commit the changes we have just made to git.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="06">
        <h1>Git</h1>
<p>If you have been committing your project to git during this lab, you should be able to select <code>Team-&gt;Show in History</code>:</p>
<p><img src="img/x20.png" alt=""></p>
<p>This show each of the commits you have made, including the comments. As yet, this is all taking place locally in your own workstation. We can confirm this be selecting <code>Team-&gt;Show in Repositories View</code>:</p>
<p><img src="img/x21.png" alt=""></p>
<p>The <code>Remotes</code> icon is currently empty.</p>
<p>Now sign up / sign in to github.com and create a new repository. Call it <code>pacemaker</code>:</p>
<p><img src="img/x22.png" alt=""></p>
<p>Click &#39;Create repository&#39;...</p>
<p><img src="img/x23.png" alt=""></p>
<p>In the above screen, locate the &#39;Quick Setup&#39; panel and select &#39;HTTPS&#39;, Then select the &#39;Copy to Clipboard&#39; icon (or manually copy/paste) to get the url into the clipboard.</p>
<p>Back in eclipse, select the <code>Remotes</code> icon on the Repository view and right click:</p>
<p><img src="img/x27.png" alt=""></p>
<p>Select &#39;Create Remote&#39;</p>
<p>... and something like the following will be displayed:</p>
<p><img src="img/x28.png" alt=""></p>
<p>Call the remote &#39;origin&#39; (which will be the default)</p>
<p>This screen will be next:</p>
<p><img src="img/x29.png" alt=""></p>
<p>Press the &#39;Change&#39; button, and you will have an opportunity to past in your url. Some of the fields will be pre-populated, you will have to enter others.</p>
<p><img src="img/x30.png" alt=""></p>
<p>Make sure the username/password is your github credentials. </p>
<p>Press &#39;Finish&#39; and on the next screen Press &#39;Finish &amp; Push&#39; </p>
<p><img src="img/x33.png" alt=""></p>
<p>Your repository should be pushed to github.</p>
<p>If all has gone to plan, then the &#39;Git Repositories&#39; view should reveal the new &#39;origin&#39;:</p>
<p><img src="img/x31.png" alt=""></p>
<p>And the repository should be available (publicly) on your gitub repo:</p>
<p><img src="img/x34.png" alt=""></p>
<p>Explore the repo, and verify that the code has been successfully posted.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="Exercises">
        <h1>Exercises</h1>
<h2>Archive of lab so far:</h2>
<ul>
<li><a href="https://github.com/edeleastar/pacemaker">https://github.com/edeleastar/pacemaker</a></li>
</ul>
<h3>Data Structures</h3>
<p>Step 6 used the ArrayList data structure. For an elegant introduction to this, and the collections framework as a whole, take a look at this trial here:</p>
<ul>
<li><a href="http://docs.oracle.com/javase/tutorial/collections/index.html">http://docs.oracle.com/javase/tutorial/collections/index.html</a></li>
</ul>
<p>In particular, the ArrayList is discussed here:</p>
<ul>
<li><a href="http://docs.oracle.com/javase/tutorial/collections/implementations/list.html">http://docs.oracle.com/javase/tutorial/collections/implementations/list.html</a></li>
</ul>
<p>See if you can modify the code to use LinkedList instead of ArrayList. What would be the benefits?</p>
<h3>JSON</h3>
<p>For many uses, XML has largely been replaced with JSON:</p>
<ul>
<li><a href="http://www.json.org/">http://www.json.org/</a></li>
</ul>
<p>Which offers some considerable benefits as a simple representation of data structures. The XML library you used in Step 7 also supports JSON.</p>
<ul>
<li><a href="http://x-stream.github.io/json-tutorial.html">http://x-stream.github.io/json-tutorial.html</a></li>
</ul>
<p>There are only two small changes required to output JSON - which are contained in the first code fragment. The existing xstream jar file will not be sufficient for it to run (although it will compile successful). Following the instructions for incorporating a jar file in step 7, see if you can import these two libraries here:</p>
<ul>
<li><a href="http://mvnrepository.com/artifact/org.codehaus.jettison/jettison/1.3.7">jettison</a></li>
<li><a href="http://mvnrepository.com/artifact/stax/stax/1.2.0">stax</a></li>
</ul>
<p>If these are part of the build path, then the xstream component should be able to generate json versions of the data structure.</p>

      </div>
     
    </div>
  </div>
</div>
  <div class="ui bottom fixed borderless right menu">
    <div class="ui right tiny menu">
      <div class="ui mini message segment">
        Frank Walsh & Eamonn De Leastar .
        <a  href="http://creativecommons.org/licenses/by-nc/4.0/" title="External link to http://creativecommons.org/licenses/by-nc/4.0/"
            target="_blank">Creative Commons License
        </a>
      </div>
    </div>
  </div>

<script>
  $(document).on('keydown', function (e) {
  e = e || window.event;
  var nextTab;
  switch (e.which || e.keyCode) {
    case 37: // left
      nextTab = $('.tab-menu a[data-tab].active').prev('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').last();
      nextTab.click();
      $('.pusher').focus();
      break;

    case 39: // right
      nextTab = $('.tab-menu a[data-tab].active').next('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').first();
      nextTab.click();
      $('.pusher').focus();
      break;
  }
});

</script>

    <footer>

    </footer>
    <script>
      $(document).ready(function () {
  $('img').addClass('ui image');
  $('.ui.embed').embed();

  const $images = $('.lab img');
  jQuery.each($images, function (i) {
    if (($images[i].alt).length > 0) {
      const divImg = $(document.createElement('div')).addClass('ui basic segment');
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass('ui blue ribbon label');
      divLabel.append($images[i].alt);
      $(divLabel).insertBefore($images[i]);
    }
  });

  $('.ui.embed').embed();

  $('.ui.menu .item')
      .tab({
        history: true,
        historyType: 'hash',
      });

  $('.popup').popup();

  $('.ui.sidebar')
      .sidebar({ context: $('.pushable') })
      .sidebar('setting', 'transition', 'slide out')
      .sidebar('attach events', '#toc');
});

    </script>
  </body>

 </html>